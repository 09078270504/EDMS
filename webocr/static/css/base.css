/* ===== Sidebar width & transition ===== */
#logo-sidebar {
  width: 16rem;
  transition: width .2s ease, transform .2s ease;
  --brand-size: 1.75rem; /* 28px */
  --brand-pad:.5rem;
}
#logo-sidebar.collapsed {
  width: 4rem;
  background:#fff;
  border-right:1px solid #e5e7eb;
}

/* Expanded (sidebar open) */
#brandToggle {
  padding-left: .75rem;
  padding-right: .75rem;
}
#brandToggle img {
  height: var(--brand-size);         /* a bit bigger than h-6 */
  width: var(--brand-size);
}

/* Collapsed (sidebar closed) — make the logo fit perfectly */
#logo-sidebar.collapsed .h-full > div:first-child {         /* brand header row */
  padding: var(--brand-pad);
  display: flex;
  flex-direction: column;          /* reduce big top/bottom padding */
}

#logo-sidebar.collapsed .h-full > .flex.items-center.justify-between.px-3.py-4.border-b {
  order: 0;
}

#logo-sidebar.collapsed .h-full > .px-2.py-3.border-t{
  order: 2;                 /* after nav */
  border-top: 1;         /* remove previous top border */
  padding: .5rem 0; /* reduce top/bottom padding */
  display: flex;
  justify-content: center;  /* horizontal centering */
  align-items: center;      /* if the row gets taller */
}
#logo-sidebar.collapsed #brandToggle {
  justify-content: center; /* center the logo */
  padding: .5rem;          /* equal padding all around */
  width: 100%;
}
#logo-sidebar.collapsed #brandToggle img {
  height: var(--brand-size);         /* ~36px fits nicely in a 4rem (64px) bar */
  width: var(--brand-size);          /* square for crisp look */
  display: block;
  border-radius: .5rem;    /* optional rounding */
  object-fit: contain;
}


/* Hide text labels when collapsed */
#logo-sidebar.collapsed .brand-text,
#logo-sidebar.collapsed .item-label {
  display: none;
}

/* Hide collapse arrow when collapsed */
#logo-sidebar.collapsed #collapseSidebar {
  display: none;
}

/* ===== Nav & User buttons alignment ===== */
#logo-sidebar .group,
#logo-sidebar #brandToggle,
#logo-sidebar #userMenuButton {
  padding-left: .75rem;
  padding-right: .75rem;
}

/* Collapsed mode: center icons */
#logo-sidebar.collapsed .group {
  justify-content: center !important;
  text-align: center;
  padding-left: .75rem;
  padding-right: .75rem;
  overflow: visible !important; /* tooltips fly out */
}

#logo-sidebar.collapsed .group > i,
#logo-sidebar.collapsed .group > svg,
#logo-sidebar.collapsed .group > img {
  display: block;
  margin: 0 auto;
}

/* User button hitbox collapsed */
#logo-sidebar.collapsed #userMenuButton {
  box-sizing: border-box;                  /* borders won't change size */
  width: 2.5rem;
  height: 2.5rem;
  margin: .375rem auto;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* === Sidebar hover → gray (overrides Tailwind's hover:bg-green-50) === */
#logo-sidebar nav a.group:hover,
#logo-sidebar nav a.group:focus-visible,
#logo-sidebar #userMenuButton:hover,
#logo-sidebar #userMenuButton:focus-visible {
  background-color: #f3f4f6 !important; /* gray-100 */
  color: #111827;                        /* slate-900 text for contrast */
  outline: none;
}

/* Optional: subtler active press without shifting */
#logo-sidebar nav a.group:active,
#logo-sidebar #userMenuButton:active {
  background-color: #e5e7eb !important;  /* gray-200 */
}

/* Keep same behavior when collapsed */
#logo-sidebar.collapsed nav a.group:hover,
#logo-sidebar.collapsed nav a.group:focus-visible,
#logo-sidebar.collapsed #userMenuButton:hover,
#logo-sidebar.collapsed #userMenuButton:focus-visible {
  background-color: #f3f4f6 !important;
}

/* Show tooltips only when collapsed */
#logo-sidebar.collapsed .item-tooltip {
  display: block;
}

/* ===== User dropdown ===== */
#userDropdown {
  left: 0;
  bottom: 100%;
  margin-bottom: .5rem;
  width: 100%;
}

/* Hide the down-arrow/caret inside the user button */
#userMenuButton > svg,
#userMenuButton .fa-chevron-down,
#userMenuButton .fa-angle-down {
  display: none !important;
}

/* ===== Page content shift (≥ sm) ===== */
@media (min-width: 640px) {
  #pageContent {
    margin-left: 16rem;
    transition: margin-left .2s ease;
  }
  #pageContent.collapsed {
    margin-left: 4rem;
  }
}
